{"ast":null,"code":"import _classCallCheck from\"/home/alan/delivery_2/previously_on/client/Previously_On/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alan/delivery_2/previously_on/client/Previously_On/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import axios from\"axios\";var API_URL=\"https://api.betaseries.com/members/auth\";var AuthService=/*#__PURE__*/function(){function AuthService(){_classCallCheck(this,AuthService);}_createClass(AuthService,[{key:\"login\",value:function login(_login,password,client_id){return axios.post(API_URL,{login:_login,password:password,client_id:client_id}).then(function(response){if(response.data.token){localStorage.setItem(\"user\",JSON.stringify(response.data));}return response.data;});}},{key:\"logout\",value:function logout(){localStorage.removeItem(\"user\");window.location=\"/home\";}},{key:\"getCurrentUser\",value:function getCurrentUser(){return JSON.parse(localStorage.getItem(\"user\"));}}]);return AuthService;}();export default new AuthService();","map":{"version":3,"sources":["/home/alan/delivery_2/previously_on/client/Previously_On/src/services/auth-service.js"],"names":["axios","API_URL","AuthService","login","password","client_id","post","then","response","data","token","localStorage","setItem","JSON","stringify","removeItem","window","location","parse","getItem"],"mappings":"4VAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,OAAO,CAAG,yCAAhB,C,GAEMC,CAAAA,W,gIAEF,eAAMC,MAAN,CAAaC,QAAb,CAAuBC,SAAvB,CAAkC,CAC9B,MAAOL,CAAAA,KAAK,CACXM,IADM,CACDL,OADC,CACQ,CACXE,KAAK,CAALA,MADW,CAEXC,QAAQ,CAARA,QAFW,CAGXC,SAAS,CAATA,SAHW,CADR,EAMNE,IANM,CAMD,SAAAC,QAAQ,CAAI,CACd,GAAIA,QAAQ,CAACC,IAAT,CAAcC,KAAlB,CAAyB,CACrBC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAeN,QAAQ,CAACC,IAAxB,CAA7B,EACH,CACD,MAAOD,CAAAA,QAAQ,CAACC,IAAhB,CACH,CAXM,CAAP,CAYH,C,sBAED,iBAAS,CACLE,YAAY,CAACI,UAAb,CAAwB,MAAxB,EACAC,MAAM,CAACC,QAAP,CAAkB,OAAlB,CACH,C,8BAED,yBAAiB,CACb,MAAOJ,CAAAA,IAAI,CAACK,KAAL,CAAWP,YAAY,CAACQ,OAAb,CAAqB,MAArB,CAAX,CAAP,CACH,C,2BAGL,cAAe,IAAIjB,CAAAA,WAAJ,EAAf","sourcesContent":["import axios from \"axios\";\n\nconst API_URL = \"https://api.betaseries.com/members/auth\";\n\nclass AuthService {\n\n    login(login, password, client_id) {\n        return axios\n        .post(API_URL, {\n            login,\n            password,\n            client_id\n        })\n        .then(response => {\n            if (response.data.token) {\n                localStorage.setItem(\"user\", JSON.stringify(response.data));\n            }\n            return response.data;\n        })\n    }\n\n    logout() {\n        localStorage.removeItem(\"user\");\n        window.location = \"/home\";\n    }\n\n    getCurrentUser() {\n        return JSON.parse(localStorage.getItem(\"user\"));\n    }\n}\n\nexport default new AuthService();"]},"metadata":{},"sourceType":"module"}