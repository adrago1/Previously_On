{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst matcher_1 = require(\"./matcher\");\n\nclass PartialMatcher extends matcher_1.default {\n  match(filepath) {\n    const parts = filepath.split('/');\n    const levels = parts.length;\n\n    const patterns = this._storage.filter(info => !info.complete || info.segments.length > levels);\n\n    for (const pattern of patterns) {\n      const section = pattern.sections[0];\n      /**\n       * In this case, the pattern has a globstar and we must read all directories unconditionally,\n       * but only if the level has reached the end of the first group.\n       *\n       * fixtures/{a,b}/**\n       *  ^ true/false  ^ always true\n      */\n\n      if (!pattern.complete && levels > section.length) {\n        return true;\n      }\n\n      const match = parts.every((part, index) => {\n        const segment = pattern.segments[index];\n\n        if (segment.dynamic && segment.patternRe.test(part)) {\n          return true;\n        }\n\n        if (!segment.dynamic && segment.pattern === part) {\n          return true;\n        }\n\n        return false;\n      });\n\n      if (match) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n}\n\nexports.default = PartialMatcher;","map":{"version":3,"sources":["/home/alan/delivery_2/previously_on/client/node_modules/fast-glob/out/providers/matchers/partial.js"],"names":["Object","defineProperty","exports","value","matcher_1","require","PartialMatcher","default","match","filepath","parts","split","levels","length","patterns","_storage","filter","info","complete","segments","pattern","section","sections","every","part","index","segment","dynamic","patternRe","test"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMC,cAAN,SAA6BF,SAAS,CAACG,OAAvC,CAA+C;AAC3CC,EAAAA,KAAK,CAACC,QAAD,EAAW;AACZ,UAAMC,KAAK,GAAGD,QAAQ,CAACE,KAAT,CAAe,GAAf,CAAd;AACA,UAAMC,MAAM,GAAGF,KAAK,CAACG,MAArB;;AACA,UAAMC,QAAQ,GAAG,KAAKC,QAAL,CAAcC,MAAd,CAAsBC,IAAD,IAAU,CAACA,IAAI,CAACC,QAAN,IAAkBD,IAAI,CAACE,QAAL,CAAcN,MAAd,GAAuBD,MAAxE,CAAjB;;AACA,SAAK,MAAMQ,OAAX,IAAsBN,QAAtB,EAAgC;AAC5B,YAAMO,OAAO,GAAGD,OAAO,CAACE,QAAR,CAAiB,CAAjB,CAAhB;AACA;AACZ;AACA;AACA;AACA;AACA;AACA;;AACY,UAAI,CAACF,OAAO,CAACF,QAAT,IAAqBN,MAAM,GAAGS,OAAO,CAACR,MAA1C,EAAkD;AAC9C,eAAO,IAAP;AACH;;AACD,YAAML,KAAK,GAAGE,KAAK,CAACa,KAAN,CAAY,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACvC,cAAMC,OAAO,GAAGN,OAAO,CAACD,QAAR,CAAiBM,KAAjB,CAAhB;;AACA,YAAIC,OAAO,CAACC,OAAR,IAAmBD,OAAO,CAACE,SAAR,CAAkBC,IAAlB,CAAuBL,IAAvB,CAAvB,EAAqD;AACjD,iBAAO,IAAP;AACH;;AACD,YAAI,CAACE,OAAO,CAACC,OAAT,IAAoBD,OAAO,CAACN,OAAR,KAAoBI,IAA5C,EAAkD;AAC9C,iBAAO,IAAP;AACH;;AACD,eAAO,KAAP;AACH,OATa,CAAd;;AAUA,UAAIhB,KAAJ,EAAW;AACP,eAAO,IAAP;AACH;AACJ;;AACD,WAAO,KAAP;AACH;;AAhC0C;;AAkC/CN,OAAO,CAACK,OAAR,GAAkBD,cAAlB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst matcher_1 = require(\"./matcher\");\nclass PartialMatcher extends matcher_1.default {\n    match(filepath) {\n        const parts = filepath.split('/');\n        const levels = parts.length;\n        const patterns = this._storage.filter((info) => !info.complete || info.segments.length > levels);\n        for (const pattern of patterns) {\n            const section = pattern.sections[0];\n            /**\n             * In this case, the pattern has a globstar and we must read all directories unconditionally,\n             * but only if the level has reached the end of the first group.\n             *\n             * fixtures/{a,b}/**\n             *  ^ true/false  ^ always true\n            */\n            if (!pattern.complete && levels > section.length) {\n                return true;\n            }\n            const match = parts.every((part, index) => {\n                const segment = pattern.segments[index];\n                if (segment.dynamic && segment.patternRe.test(part)) {\n                    return true;\n                }\n                if (!segment.dynamic && segment.pattern === part) {\n                    return true;\n                }\n                return false;\n            });\n            if (match) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\nexports.default = PartialMatcher;\n"]},"metadata":{},"sourceType":"script"}