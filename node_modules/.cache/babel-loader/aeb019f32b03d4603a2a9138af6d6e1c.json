{"ast":null,"code":"import _slicedToArray from\"/home/alan/Delivery/DevResp/Previously_On/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Typing from\"react-typing-animation\";import Fade from'react-reveal/Fade';import axios from\"axios\";import AuthService from\"../../services/auth-service\";import CryptoJS from\"crypto-js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var messageErreur;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),finishedTyping=_useState2[0],setFinishedTyping=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),username=_useState4[0],setUsername=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),apiError=_useState8[0],setApiError=_useState8[1];var handleSubmit=function handleSubmit(e){e.preventDefault();var hashedPassword=CryptoJS.MD5(password).toString();AuthService.login(username,hashedPassword,\"22f661bdce5c\").then(function(res){window.location=\"/home\";}).catch(function(error){//console.log(error.response.data.errors[0].text);\nsetApiError(error.response.data.errors[0].text);});console.log(apiError);};if(apiError===\"\"){messageErreur=\"\";}else{messageErreur=/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-xs italic\",children:apiError});}return/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto text-center px-30 text-white sm:-mt-16\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row items-center justify-around h-screen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pr-0 sm:pr-24 xl:pr-48 flex-shrink-0 relative\",children:[/*#__PURE__*/_jsxs(Typing,{className:\"text-6xl font-cabin\",speed:45,onFinishedTyping:function onFinishedTyping(){return setFinishedTyping(true);},children:[/*#__PURE__*/_jsx(\"p\",{children:\"CONNECTE-TOI\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-7\",children:\"AVEC TON COMPTE\"}),/*#__PURE__*/_jsxs(\"h6\",{className:\"mt-7\",children:[\"BETASERIES\",/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-400\",children:\".\"})]})]}),finishedTyping&&/*#__PURE__*/_jsx(Fade,{left:true,children:/*#__PURE__*/_jsx(\"img\",{className:\"hidden lg:block absolute inset-y-20 right-0 w-16 h-16\",alt:\"right-arrow\",src:\"./assets/right-arrow.svg\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sm:mt-0 -mt-36 flex font-roboto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full max-w-xs\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"bg-white bg-opacity-95 shadow-2xl rounded px-8 pt-6 pb-8 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-left text-gray-700 text-sm font-bold mb-2\",htmlFor:\"username\",children:\"Pseudonyme\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setUsername(e.target.value);},className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\",id:\"username\",type:\"text\",placeholder:\"Pseudonyme ou e-mail\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-left text-gray-700 text-sm font-bold mb-2\",htmlFor:\"password\",children:\"Mot de passe\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setPassword(e.target.value);},className:\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\",id:\"password\",type:\"password\",placeholder:\"******************\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Valider\",className:\"cursor-pointer bg-yellow-300 hover:bg-yellow-500 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\"}),/*#__PURE__*/_jsx(\"a\",{className:\"inline-block align-baseline font-bold text-sm text-yellow-300 hover:text-yellow-500\",href:\"/series\",children:\"Inscription\"})]}),messageErreur]})})})]})});}","map":{"version":3,"sources":["/home/alan/Delivery/DevResp/Previously_On/src/components/Login/login.js"],"names":["React","useState","Typing","Fade","axios","AuthService","CryptoJS","Login","messageErreur","finishedTyping","setFinishedTyping","username","setUsername","password","setPassword","apiError","setApiError","handleSubmit","e","preventDefault","hashedPassword","MD5","toString","login","then","res","window","location","catch","error","response","data","errors","text","console","log","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Typing from \"react-typing-animation\";\nimport Fade from 'react-reveal/Fade';\nimport axios from \"axios\";\nimport AuthService from \"../../services/auth-service\";\nimport CryptoJS from \"crypto-js\";\n\nexport default function Login() {\n\n    let messageErreur;\n    const [finishedTyping, setFinishedTyping] = useState(false);\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [apiError, setApiError] = useState(\"\");\n    \n    const handleSubmit = (e) => {\n        e.preventDefault();\n        let hashedPassword = CryptoJS.MD5(password).toString();\n        AuthService.login(username, hashedPassword, \"22f661bdce5c\")\n        .then (function (res) {\n            window.location = \"/home\";\n        })\n        .catch(function (error) {\n            //console.log(error.response.data.errors[0].text);\n            setApiError(error.response.data.errors[0].text);\n        })\n\n        console.log(apiError);\n    }\n\n    if (apiError === \"\") {\n        messageErreur = \"\";\n    } else {\n        messageErreur = <p className=\"text-red-500 text-xs italic\">{apiError}</p>\n    }\n\n    return (\n        <div className=\"container mx-auto text-center px-30 text-white sm:-mt-16\">\n            <div className=\"flex flex-col sm:flex-row items-center justify-around h-screen\">\n                <div className=\"pr-0 sm:pr-24 xl:pr-48 flex-shrink-0 relative\">\n                    <Typing className=\"text-6xl font-cabin\" speed={45} onFinishedTyping={() => setFinishedTyping(true)}>\n                        <p>CONNECTE-TOI</p>\n                        <p className=\"mt-7\">AVEC TON COMPTE</p>\n                        <h6 className=\"mt-7\">BETASERIES<span className=\"text-yellow-400\">.</span></h6>\n                    </Typing>\n                    {finishedTyping && \n                    <Fade left>\n                        <img className=\"hidden lg:block absolute inset-y-20 right-0 w-16 h-16\" alt=\"right-arrow\" src=\"./assets/right-arrow.svg\" />\n                    </Fade>\n                    }\n                </div>\n                <div className=\"sm:mt-0 -mt-36 flex font-roboto\">\n                    <div className=\"w-full max-w-xs\">\n                        <form onSubmit={handleSubmit} className=\"bg-white bg-opacity-95 shadow-2xl rounded px-8 pt-6 pb-8 mb-4\">\n                            <div className=\"mb-4\">\n                                <label className=\"block text-left text-gray-700 text-sm font-bold mb-2\" htmlFor=\"username\">\n                                    Pseudonyme\n                                </label>\n                                <input onChange={e => setUsername(e.target.value)}className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\" id=\"username\" type=\"text\" placeholder=\"Pseudonyme ou e-mail\" />\n                            </div>\n                            <div className=\"mb-6\">\n                                <label className=\"block text-left text-gray-700 text-sm font-bold mb-2\" htmlFor=\"password\">\n                                    Mot de passe\n                                </label>\n                                <input onChange={e => setPassword(e.target.value)} className=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\" id=\"password\" type=\"password\" placeholder=\"******************\" />\n                            </div>\n                            <div className=\"flex items-center justify-between mb-6\">\n                                <input type=\"submit\" value=\"Valider\" className=\"cursor-pointer bg-yellow-300 hover:bg-yellow-500 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" />\n                                <a className=\"inline-block align-baseline font-bold text-sm text-yellow-300 hover:text-yellow-500\" href=\"/series\">\n                                    Inscription\n                                </a>\n                            </div>\n                            {messageErreur}\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}